const c=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};c();const i={get:async t=>new Promise((e,r)=>{chrome.storage.local.get(t,s=>{chrome.extension.lastError!==void 0&&r(chrome.extension.lastError),e(s)})}),set:t=>new Promise((e,r)=>{chrome.storage.local.set(t,()=>{chrome.extension.lastError!==void 0&&r(chrome.extension.lastError),e(!0)})}),remove:t=>new Promise((e,r)=>{chrome.storage.local.remove(t,()=>{chrome.extension.lastError!==void 0&&r(chrome.extension.lastError),e(!0)})}),clear:()=>new Promise((t,e)=>{chrome.storage.local.clear(()=>{chrome.extension.lastError!==void 0&&e(chrome.extension.lastError),t(!0)})})},a={get:async t=>Promise.resolve().then(()=>{let e={};return t==null?Object.keys(localStorage).forEach(r=>{e[r]=localStorage.getItem(r)}):t.forEach(r=>{if(r==="regexps"){let s=localStorage.getItem(r);s!=null&&(e[r]=JSON.parse(s))}else e[r]=localStorage.getItem(r)}),e}),set:async t=>Promise.resolve().then(()=>{Object.keys(t).forEach(e=>{localStorage.setItem(e,JSON.stringify(t[e]))})})};function u(){return window.location.href.includes("localhost")?a:i}const f=u();export{f as s};
