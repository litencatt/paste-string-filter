import{s as e}from"./storage.js";e.set({filteredStr:"(filtered)",regexps:[{name:"mail",regexp:"[\\w\\-._]+@[\\w\\-._]+\\.[A-Za-z]+",enable:!0},{name:"password",regexp:"password:.*",enable:!0}]}),document.addEventListener("paste",(async function(t){const n=window.document.activeElement;if(!n||!["TEXTAREA"].includes(n.nodeName))return!1;const r=n.value,l=n.selectionStart,a=n.selectionEnd;if(null===l||null===a)return!1;let s=t.clipboardData;if(!s)return!1;let o=s.getData("text");const i=await e.get(["enable","filteredStr","regexps"]);if(!i.hasOwnProperty("enable"))return void console.log("enable is not set.");if(!i.enable)return void console.log("Filter is disable now.");const c=i.filteredStr;i.regexps.forEach((e=>{let t=new RegExp(e.regexp,"g");o=o.replace(t,c)})),n.value=r.slice(0,l)+o+r.slice(a),t.preventDefault()}));
