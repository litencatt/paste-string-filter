import{s as f}from"./storageWrapper.js";document.addEventListener("paste",d);async function d(r){const e=window.document.activeElement;if(!e||!["TEXTAREA"].includes(e.nodeName))return!1;const l=e.value,a=e.selectionStart,s=e.selectionEnd;if(a===null||s===null)return!1;let o=r.clipboardData;if(!o)return!1;let n=o.getData("text");const t=await f.get(["enable","filteredStr","regexps"]);if(!t.hasOwnProperty("enable")){console.log("enable is not set.");return}if(!t.enable){console.log("Filter is disable now.");return}const c=t.filteredStr;t.regexps.forEach(i=>{if(i.regexp=="")return;let p=new RegExp(i.regexp,"g");n=n.replace(p,c)}),e.value=l.slice(0,a)+n+l.slice(s),r.preventDefault()}
