import{s as e}from"./storage.js";chrome.storage.local.set({filteredStr:"(filtered)",regexps:{mail:{regexp:"[\\w\\-._]+@[\\w\\-._]+\\.[A-Za-z]+",enable:!0},password:{regexp:"password:.*",enable:!0}}}),chrome.storage.local.get((e=>{console.log(e)})),document.addEventListener("paste",(async function(t){console.log("fire!");const l=window.document.activeElement;if(!l||!["TEXTAREA"].includes(l.nodeName))return!1;const r=l.value,o=l.selectionStart,n=l.selectionEnd;if(null===o||null===n)return!1;let s=t.clipboardData;if(!s)return!1;let a=s.getData("text");const i=await e.get(["enable","filteredStr","regexps"]);if(!i.hasOwnProperty("enable"))return void console.log("enable is not set.");if(!i.enable)return void console.log("Filter is disable now.");const c=i.filteredStr;Object.keys(i.regexps).forEach((e=>{let t=new RegExp(i.regexps[e].regexp,"g");a=a.replace(t,c)})),l.value=r.slice(0,o)+a+r.slice(n),t.preventDefault()}));
