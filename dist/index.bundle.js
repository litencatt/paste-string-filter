(()=>{"use strict";chrome.storage.local.get((e=>{console.log(e)})),document.addEventListener("paste",(async function(e){const t=window.document.activeElement;if(!t||!["TEXTAREA"].includes(t.nodeName))return!1;const n=t.value,o=t.selectionStart,l=t.selectionEnd;if(null===o||null===l)return!1;let a=e.clipboardData;if(!a)return!1;let s=a.getData("text");const r=await(async e=>new Promise(((t,n)=>{chrome.storage.local.get(e,(e=>{void 0!==chrome.extension.lastError&&n(chrome.extension.lastError),t(e)}))})))(["enable"]);console.log(r),r.hasOwnProperty("enable")?r.enable?(s=s.replace(/[\w\-._]+@[\w\-._]+\.[A-Za-z]+/g,"(filtered)"),t.value=n.slice(0,o)+s+n.slice(l),e.preventDefault()):console.log("Filter is disable now."):console.log("enable is not set.")}))})();